# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'JSalignment.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


import sys,os
from PyQt5.QtCore import QUrl
from PyQt5.QtGui import *
from PyQt5.QtWidgets import *
from PyQt5.QtWebEngineWidgets import *


class VIRIDIC_Form(QMainWindow):
    def __init__(self):
        super().__init__()
        self.setWindowTitle('VIRIDIC')
        self.showMaximized()

        #####放入WebEngineView
        self.webview = WebEngineView()
        self.webview.load(QUrl('https://rhea.icbm.uni-oldenburg.de/viridic/'))
        self.setCentralWidget(self.webview)

class WebEngineView(QWebEngineView):
    windowList = []
    # 重写createwindow()
    def createWindow(self, QWebEnginePage_WebWindowType):
        new_webview = WebEngineView()
        new_window = VIRIDIC_Form()
        new_window.setCentralWidget(new_webview)
        #new_window.show()
        self.windowList.append(new_window)  #注：没有这句会崩溃
        return new_webview

if __name__ == '__main__':
    app = QApplication(sys.argv)
    win = VIRIDIC_Form()
    win.show()
    app.exit(app.exec_())
